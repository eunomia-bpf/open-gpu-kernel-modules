<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.42.4 (0)
 -->
<!-- Title: uvm_thrashing_policy Pages: 1 -->
<svg width="2762pt" height="652pt"
 viewBox="0.00 0.00 2761.50 651.50" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 647.5)">
<title>uvm_thrashing_policy</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-647.5 2757.5,-647.5 2757.5,4 -4,4"/>
<g id="clust1" class="cluster">
<title>cluster_params</title>
<polygon fill="lightyellow" stroke="black" points="8,-8 8,-100 1939,-100 1939,-8 8,-8"/>
<text text-anchor="middle" x="973.5" y="-84.8" font-family="Times,serif" font-size="14.00">Module Parameters</text>
<text text-anchor="middle" x="973.5" y="-69.8" font-family="Times,serif" font-size="14.00">(Runtime Tunable)</text>
</g>
<g id="clust2" class="cluster">
<title>cluster_legend</title>
<polygon fill="white" stroke="black" points="1461,-560.5 1461,-635.5 2251,-635.5 2251,-560.5 1461,-560.5"/>
<text text-anchor="middle" x="1856" y="-620.3" font-family="Times,serif" font-size="14.00">Legend</text>
</g>
<!-- api -->
<g id="node1" class="node">
<title>api</title>
<path fill="yellow" stroke="black" stroke-width="2" d="M1438,-613C1438,-613 1238,-613 1238,-613 1232,-613 1226,-607 1226,-601 1226,-601 1226,-572 1226,-572 1226,-566 1232,-560 1238,-560 1238,-560 1438,-560 1438,-560 1444,-560 1450,-566 1450,-572 1450,-572 1450,-601 1450,-601 1450,-607 1444,-613 1438,-613"/>
<text text-anchor="middle" x="1338" y="-597.8" font-family="Times,serif" font-size="14.00">uvm_perf_thrashing_get_hint</text>
<text text-anchor="middle" x="1338" y="-582.8" font-family="Times,serif" font-size="14.00">(uvm_perf_thrashing.h:77)</text>
<text text-anchor="middle" x="1338" y="-567.8" font-family="Times,serif" font-size="14.00">⭐ PUBLIC API</text>
</g>
<!-- check_enabled -->
<g id="node2" class="node">
<title>check_enabled</title>
<path fill="lightyellow" stroke="black" d="M781.11,-246.39C781.11,-246.39 524.89,-211.61 524.89,-211.61 518.95,-210.81 518.95,-209.19 524.89,-208.39 524.89,-208.39 781.11,-173.61 781.11,-173.61 787.05,-172.81 798.95,-172.81 804.89,-173.61 804.89,-173.61 1061.11,-208.39 1061.11,-208.39 1067.05,-209.19 1067.05,-210.81 1061.11,-211.61 1061.11,-211.61 804.89,-246.39 804.89,-246.39 798.95,-247.19 787.05,-247.19 781.11,-246.39"/>
<text text-anchor="middle" x="793" y="-213.8" font-family="Times,serif" font-size="14.00">if (uvm_perf_thrashing_enable == 0)</text>
<text text-anchor="middle" x="793" y="-198.8" font-family="Times,serif" font-size="14.00"> &#160;return HINT_TYPE_NONE</text>
</g>
<!-- api&#45;&gt;check_enabled -->
<g id="edge1" class="edge">
<title>api&#45;&gt;check_enabled</title>
<path fill="none" stroke="darkblue" d="M1225.84,-559.91C1185.7,-547.95 1141.21,-531.3 1104,-509 986.52,-438.58 877.94,-316.37 825.67,-252.54"/>
<polygon fill="darkblue" stroke="darkblue" points="828.3,-250.23 819.27,-244.68 822.87,-254.64 828.3,-250.23"/>
<text text-anchor="middle" x="1008" y="-403.8" font-family="Times,serif" font-size="14.00">1. Check</text>
</g>
<!-- get_info -->
<g id="node3" class="node">
<title>get_info</title>
<path fill="lightblue" stroke="black" d="M1289.5,-490C1289.5,-490 1124.5,-490 1124.5,-490 1118.5,-490 1112.5,-484 1112.5,-478 1112.5,-478 1112.5,-464 1112.5,-464 1112.5,-458 1118.5,-452 1124.5,-452 1124.5,-452 1289.5,-452 1289.5,-452 1295.5,-452 1301.5,-458 1301.5,-464 1301.5,-464 1301.5,-478 1301.5,-478 1301.5,-484 1295.5,-490 1289.5,-490"/>
<text text-anchor="middle" x="1207" y="-474.8" font-family="Times,serif" font-size="14.00">thrashing_info_get</text>
<text text-anchor="middle" x="1207" y="-459.8" font-family="Times,serif" font-size="14.00">va_block的thrashing数据</text>
</g>
<!-- api&#45;&gt;get_info -->
<g id="edge2" class="edge">
<title>api&#45;&gt;get_info</title>
<path fill="none" stroke="darkblue" d="M1273.04,-559.94C1264.06,-554.8 1255.4,-548.83 1248,-542 1235.22,-530.2 1225.23,-513.49 1218.31,-499.36"/>
<polygon fill="darkblue" stroke="darkblue" points="1221.39,-497.69 1214.01,-490.08 1215.04,-500.63 1221.39,-497.69"/>
<text text-anchor="middle" x="1286" y="-530.8" font-family="Times,serif" font-size="14.00">2. Get info</text>
</g>
<!-- detect -->
<g id="node4" class="node">
<title>detect</title>
<path fill="lightcoral" stroke="black" d="M1397.5,-382C1397.5,-382 1264.5,-382 1264.5,-382 1258.5,-382 1252.5,-376 1252.5,-370 1252.5,-370 1252.5,-356 1252.5,-356 1252.5,-350 1258.5,-344 1264.5,-344 1264.5,-344 1397.5,-344 1397.5,-344 1403.5,-344 1409.5,-350 1409.5,-356 1409.5,-356 1409.5,-370 1409.5,-370 1409.5,-376 1403.5,-382 1397.5,-382"/>
<text text-anchor="middle" x="1331" y="-366.8" font-family="Times,serif" font-size="14.00">thrashing_detected</text>
<text text-anchor="middle" x="1331" y="-351.8" font-family="Times,serif" font-size="14.00">检查是否在thrashing</text>
</g>
<!-- api&#45;&gt;detect -->
<g id="edge3" class="edge">
<title>api&#45;&gt;detect</title>
<path fill="none" stroke="darkblue" d="M1337.18,-559.66C1335.86,-517.79 1333.26,-435.45 1331.89,-392.15"/>
<polygon fill="darkblue" stroke="darkblue" points="1335.38,-391.91 1331.57,-382.03 1328.39,-392.13 1335.38,-391.91"/>
<text text-anchor="middle" x="1368" y="-467.3" font-family="Times,serif" font-size="14.00">3. Detect</text>
</g>
<!-- decide_hint -->
<g id="node6" class="node">
<title>decide_hint</title>
<polygon fill="orange" stroke="black" stroke-width="2" points="1607,-509 1451,-471 1607,-433 1763,-471 1607,-509"/>
<text text-anchor="middle" x="1607" y="-474.8" font-family="Times,serif" font-size="14.00">⭐ Policy Decision:</text>
<text text-anchor="middle" x="1607" y="-459.8" font-family="Times,serif" font-size="14.00">PIN or THROTTLE?</text>
</g>
<!-- api&#45;&gt;decide_hint -->
<g id="edge5" class="edge">
<title>api&#45;&gt;decide_hint</title>
<path fill="none" stroke="darkblue" d="M1398.7,-559.89C1441.29,-541.92 1498.18,-517.92 1541.74,-499.54"/>
<polygon fill="darkblue" stroke="darkblue" points="1543.25,-502.7 1551.1,-495.59 1540.53,-496.25 1543.25,-502.7"/>
<text text-anchor="middle" x="1505.5" y="-530.8" font-family="Times,serif" font-size="14.00">4. Decide</text>
</g>
<!-- return_hint -->
<g id="node13" class="node">
<title>return_hint</title>
<path fill="lightblue" stroke="black" d="M1974.5,-490C1974.5,-490 1899.5,-490 1899.5,-490 1893.5,-490 1887.5,-484 1887.5,-478 1887.5,-478 1887.5,-464 1887.5,-464 1887.5,-458 1893.5,-452 1899.5,-452 1899.5,-452 1974.5,-452 1974.5,-452 1980.5,-452 1986.5,-458 1986.5,-464 1986.5,-464 1986.5,-478 1986.5,-478 1986.5,-484 1980.5,-490 1974.5,-490"/>
<text text-anchor="middle" x="1937" y="-474.8" font-family="Times,serif" font-size="14.00">Return hint</text>
<text text-anchor="middle" x="1937" y="-459.8" font-family="Times,serif" font-size="14.00">to caller</text>
</g>
<!-- api&#45;&gt;return_hint -->
<g id="edge12" class="edge">
<title>api&#45;&gt;return_hint</title>
<path fill="none" stroke="darkblue" d="M1450.08,-561.32C1452.41,-560.87 1454.72,-560.43 1457,-560 1596.38,-533.8 1632.74,-535.86 1772,-509 1807.11,-502.23 1846.17,-493.52 1877.47,-486.26"/>
<polygon fill="darkblue" stroke="darkblue" points="1878.4,-489.63 1887.34,-483.95 1876.81,-482.82 1878.4,-489.63"/>
<text text-anchor="middle" x="1697" y="-530.8" font-family="Times,serif" font-size="14.00">5. Return</text>
</g>
<!-- p1 -->
<g id="node17" class="node">
<title>p1</title>
<path fill="white" stroke="black" d="M915.5,-54C915.5,-54 726.5,-54 726.5,-54 720.5,-54 714.5,-48 714.5,-42 714.5,-42 714.5,-28 714.5,-28 714.5,-22 720.5,-16 726.5,-16 726.5,-16 915.5,-16 915.5,-16 921.5,-16 927.5,-22 927.5,-28 927.5,-28 927.5,-42 927.5,-42 927.5,-48 921.5,-54 915.5,-54"/>
<text text-anchor="middle" x="821" y="-38.8" font-family="Times,serif" font-size="14.00">uvm_perf_thrashing_enable</text>
<text text-anchor="middle" x="821" y="-23.8" font-family="Times,serif" font-size="14.00">= 1 (启用)</text>
</g>
<!-- check_enabled&#45;&gt;p1 -->
<g id="edge16" class="edge">
<title>check_enabled&#45;&gt;p1</title>
<path fill="none" stroke="gray" stroke-dasharray="5,2" d="M798.87,-172.73C804.1,-140.44 811.64,-93.84 816.43,-64.24"/>
<polygon fill="gray" stroke="gray" points="819.92,-64.6 818.06,-54.17 813.01,-63.48 819.92,-64.6"/>
</g>
<!-- check_counters -->
<g id="node5" class="node">
<title>check_counters</title>
<path fill="lightblue" stroke="black" d="M1196.09,-258.01C1196.09,-258.01 1101.91,-214.99 1101.91,-214.99 1096.46,-212.49 1096.46,-207.51 1101.91,-205.01 1101.91,-205.01 1196.09,-161.99 1196.09,-161.99 1201.54,-159.49 1212.46,-159.49 1217.91,-161.99 1217.91,-161.99 1312.09,-205.01 1312.09,-205.01 1317.54,-207.51 1317.54,-212.49 1312.09,-214.99 1312.09,-214.99 1217.91,-258.01 1217.91,-258.01 1212.46,-260.51 1201.54,-260.51 1196.09,-258.01"/>
<text text-anchor="middle" x="1207" y="-221.3" font-family="Times,serif" font-size="14.00">检查page的</text>
<text text-anchor="middle" x="1207" y="-206.3" font-family="Times,serif" font-size="14.00">fault counters</text>
<text text-anchor="middle" x="1207" y="-191.3" font-family="Times,serif" font-size="14.00">vs threshold</text>
</g>
<!-- detect&#45;&gt;check_counters -->
<g id="edge4" class="edge">
<title>detect&#45;&gt;check_counters</title>
<path fill="none" stroke="darkblue" d="M1316.04,-343.79C1298.5,-322.42 1268.76,-286.2 1244.76,-256.99"/>
<polygon fill="darkblue" stroke="darkblue" points="1247.22,-254.46 1238.16,-248.95 1241.81,-258.9 1247.22,-254.46"/>
<text text-anchor="middle" x="1330" y="-314.8" font-family="Times,serif" font-size="14.00">检查计数</text>
</g>
<!-- p2 -->
<g id="node18" class="node">
<title>p2</title>
<path fill="white" stroke="black" d="M1427,-54C1427,-54 1217,-54 1217,-54 1211,-54 1205,-48 1205,-42 1205,-42 1205,-28 1205,-28 1205,-22 1211,-16 1217,-16 1217,-16 1427,-16 1427,-16 1433,-16 1439,-22 1439,-28 1439,-28 1439,-42 1439,-42 1439,-48 1433,-54 1427,-54"/>
<text text-anchor="middle" x="1322" y="-38.8" font-family="Times,serif" font-size="14.00">uvm_perf_thrashing_threshold</text>
<text text-anchor="middle" x="1322" y="-23.8" font-family="Times,serif" font-size="14.00">= 3 (检测阈值)</text>
</g>
<!-- check_counters&#45;&gt;p2 -->
<g id="edge17" class="edge">
<title>check_counters&#45;&gt;p2</title>
<path fill="none" stroke="gray" stroke-dasharray="5,2" d="M1233.67,-168.88C1255.35,-136.27 1285.32,-91.18 1304.18,-62.81"/>
<polygon fill="gray" stroke="gray" points="1307.26,-64.49 1309.88,-54.23 1301.43,-60.62 1307.26,-64.49"/>
</g>
<!-- pin_decision -->
<g id="node7" class="node">
<title>pin_decision</title>
<polygon fill="lightgreen" stroke="black" stroke-width="2" points="1661.5,-381 1552.5,-381 1552.5,-345 1661.5,-345 1661.5,-381"/>
<text text-anchor="middle" x="1607" y="-359.3" font-family="Times,serif" font-size="14.00">⭐ PIN Policy</text>
</g>
<!-- decide_hint&#45;&gt;pin_decision -->
<g id="edge6" class="edge">
<title>decide_hint&#45;&gt;pin_decision</title>
<path fill="none" stroke="darkblue" d="M1607,-432.93C1607,-419.26 1607,-404.03 1607,-391.37"/>
<polygon fill="darkblue" stroke="darkblue" points="1610.5,-391.02 1607,-381.02 1603.5,-391.02 1610.5,-391.02"/>
<text text-anchor="middle" x="1652.5" y="-403.8" font-family="Times,serif" font-size="14.00">if should_pin</text>
</g>
<!-- throttle_decision -->
<g id="node10" class="node">
<title>throttle_decision</title>
<polygon fill="lightcoral" stroke="black" stroke-width="2" points="2022.5,-381 1859.5,-381 1859.5,-345 2022.5,-345 2022.5,-381"/>
<text text-anchor="middle" x="1941" y="-359.3" font-family="Times,serif" font-size="14.00">⭐ THROTTLE Policy</text>
</g>
<!-- decide_hint&#45;&gt;throttle_decision -->
<g id="edge9" class="edge">
<title>decide_hint&#45;&gt;throttle_decision</title>
<path fill="none" stroke="darkblue" d="M1672.99,-449.06C1732.29,-430.24 1818.82,-402.77 1877.39,-384.19"/>
<polygon fill="darkblue" stroke="darkblue" points="1878.79,-387.42 1887.26,-381.05 1876.67,-380.74 1878.79,-387.42"/>
<text text-anchor="middle" x="1837.5" y="-403.8" font-family="Times,serif" font-size="14.00">else</text>
</g>
<!-- pin_params -->
<g id="node8" class="node">
<title>pin_params</title>
<path fill="lightblue" stroke="black" d="M1483,-236.5C1483,-236.5 1353,-236.5 1353,-236.5 1347,-236.5 1341,-230.5 1341,-224.5 1341,-224.5 1341,-195.5 1341,-195.5 1341,-189.5 1347,-183.5 1353,-183.5 1353,-183.5 1483,-183.5 1483,-183.5 1489,-183.5 1495,-189.5 1495,-195.5 1495,-195.5 1495,-224.5 1495,-224.5 1495,-230.5 1489,-236.5 1483,-236.5"/>
<text text-anchor="middle" x="1418" y="-221.3" font-family="Times,serif" font-size="14.00">hint.type = PIN</text>
<text text-anchor="middle" x="1418" y="-206.3" font-family="Times,serif" font-size="14.00">hint.pin.residency</text>
<text text-anchor="middle" x="1418" y="-191.3" font-family="Times,serif" font-size="14.00">hint.pin.processors</text>
</g>
<!-- pin_decision&#45;&gt;pin_params -->
<g id="edge7" class="edge">
<title>pin_decision&#45;&gt;pin_params</title>
<path fill="none" stroke="darkblue" d="M1578.55,-344.79C1557.34,-331.53 1528.01,-312.26 1504,-293 1485.19,-277.92 1465.63,-259.51 1449.93,-243.97"/>
<polygon fill="darkblue" stroke="darkblue" points="1452.09,-241.18 1442.55,-236.59 1447.14,-246.14 1452.09,-241.18"/>
<text text-anchor="middle" x="1561.5" y="-314.8" font-family="Times,serif" font-size="14.00">设置</text>
</g>
<!-- check_threshold -->
<g id="node9" class="node">
<title>check_threshold</title>
<path fill="lightyellow" stroke="black" d="M1661.36,-287.45C1661.36,-287.45 1523.64,-215.55 1523.64,-215.55 1518.32,-212.78 1518.32,-207.22 1523.64,-204.45 1523.64,-204.45 1661.36,-132.55 1661.36,-132.55 1666.68,-129.78 1677.32,-129.78 1682.64,-132.55 1682.64,-132.55 1820.36,-204.45 1820.36,-204.45 1825.68,-207.22 1825.68,-212.78 1820.36,-215.55 1820.36,-215.55 1682.64,-287.45 1682.64,-287.45 1677.32,-290.22 1666.68,-290.22 1661.36,-287.45"/>
<text text-anchor="middle" x="1672" y="-236.3" font-family="Times,serif" font-size="14.00">Check:</text>
<text text-anchor="middle" x="1672" y="-221.3" font-family="Times,serif" font-size="14.00">fault_count &gt;</text>
<text text-anchor="middle" x="1672" y="-206.3" font-family="Times,serif" font-size="14.00">uvm_perf_thrashing</text>
<text text-anchor="middle" x="1672" y="-191.3" font-family="Times,serif" font-size="14.00">_pin_threshold</text>
<text text-anchor="middle" x="1672" y="-176.3" font-family="Times,serif" font-size="14.00">(默认: 10)</text>
</g>
<!-- pin_decision&#45;&gt;check_threshold -->
<g id="edge8" class="edge">
<title>pin_decision&#45;&gt;check_threshold</title>
<path fill="none" stroke="darkblue" d="M1614.33,-344.97C1620.49,-330.66 1629.75,-309.14 1639.07,-287.5"/>
<polygon fill="darkblue" stroke="darkblue" points="1642.31,-288.81 1643.05,-278.24 1635.89,-286.05 1642.31,-288.81"/>
<text text-anchor="middle" x="1642.5" y="-314.8" font-family="Times,serif" font-size="14.00">基于</text>
</g>
<!-- p3 -->
<g id="node19" class="node">
<title>p3</title>
<path fill="white" stroke="black" d="M1708.5,-54C1708.5,-54 1469.5,-54 1469.5,-54 1463.5,-54 1457.5,-48 1457.5,-42 1457.5,-42 1457.5,-28 1457.5,-28 1457.5,-22 1463.5,-16 1469.5,-16 1469.5,-16 1708.5,-16 1708.5,-16 1714.5,-16 1720.5,-22 1720.5,-28 1720.5,-28 1720.5,-42 1720.5,-42 1720.5,-48 1714.5,-54 1708.5,-54"/>
<text text-anchor="middle" x="1589" y="-38.8" font-family="Times,serif" font-size="14.00">uvm_perf_thrashing_pin_threshold</text>
<text text-anchor="middle" x="1589" y="-23.8" font-family="Times,serif" font-size="14.00">= 10 (PIN阈值)</text>
</g>
<!-- check_threshold&#45;&gt;p3 -->
<g id="edge18" class="edge">
<title>check_threshold&#45;&gt;p3</title>
<path fill="none" stroke="gray" stroke-dasharray="5,2" d="M1640.38,-143.1C1627.12,-115.45 1612.41,-84.8 1602.15,-63.41"/>
<polygon fill="gray" stroke="gray" points="1605.25,-61.77 1597.77,-54.27 1598.94,-64.8 1605.25,-61.77"/>
</g>
<!-- throttle_params -->
<g id="node11" class="node">
<title>throttle_params</title>
<path fill="lightblue" stroke="black" d="M2020.5,-236.5C2020.5,-236.5 1861.5,-236.5 1861.5,-236.5 1855.5,-236.5 1849.5,-230.5 1849.5,-224.5 1849.5,-224.5 1849.5,-195.5 1849.5,-195.5 1849.5,-189.5 1855.5,-183.5 1861.5,-183.5 1861.5,-183.5 2020.5,-183.5 2020.5,-183.5 2026.5,-183.5 2032.5,-189.5 2032.5,-195.5 2032.5,-195.5 2032.5,-224.5 2032.5,-224.5 2032.5,-230.5 2026.5,-236.5 2020.5,-236.5"/>
<text text-anchor="middle" x="1941" y="-221.3" font-family="Times,serif" font-size="14.00">hint.type = THROTTLE</text>
<text text-anchor="middle" x="1941" y="-206.3" font-family="Times,serif" font-size="14.00">hint.throttle.end_time</text>
<text text-anchor="middle" x="1941" y="-191.3" font-family="Times,serif" font-size="14.00">= now + nap_usec</text>
</g>
<!-- throttle_decision&#45;&gt;throttle_params -->
<g id="edge10" class="edge">
<title>throttle_decision&#45;&gt;throttle_params</title>
<path fill="none" stroke="darkblue" d="M1941,-344.97C1941,-321.31 1941,-277.89 1941,-246.9"/>
<polygon fill="darkblue" stroke="darkblue" points="1944.5,-246.51 1941,-236.51 1937.5,-246.51 1944.5,-246.51"/>
<text text-anchor="middle" x="1955.5" y="-314.8" font-family="Times,serif" font-size="14.00">设置</text>
</g>
<!-- calc_nap -->
<g id="node12" class="node">
<title>calc_nap</title>
<path fill="lightyellow" stroke="black" d="M2231.69,-273.99C2231.69,-273.99 2062.31,-214.01 2062.31,-214.01 2056.66,-212 2056.66,-208 2062.31,-205.99 2062.31,-205.99 2231.69,-146.01 2231.69,-146.01 2237.34,-144 2248.66,-144 2254.31,-146.01 2254.31,-146.01 2423.69,-205.99 2423.69,-205.99 2429.34,-208 2429.34,-212 2423.69,-214.01 2423.69,-214.01 2254.31,-273.99 2254.31,-273.99 2248.66,-276 2237.34,-276 2231.69,-273.99"/>
<text text-anchor="middle" x="2243" y="-228.8" font-family="Times,serif" font-size="14.00">Calculate NAP time:</text>
<text text-anchor="middle" x="2243" y="-213.8" font-family="Times,serif" font-size="14.00">uvm_perf_thrashing_nap</text>
<text text-anchor="middle" x="2243" y="-198.8" font-family="Times,serif" font-size="14.00">* epoch_count</text>
<text text-anchor="middle" x="2243" y="-183.8" font-family="Times,serif" font-size="14.00">(默认: 100us * epoch)</text>
</g>
<!-- throttle_decision&#45;&gt;calc_nap -->
<g id="edge11" class="edge">
<title>throttle_decision&#45;&gt;calc_nap</title>
<path fill="none" stroke="darkblue" d="M1975.06,-344.97C2018.49,-323.26 2095.18,-284.91 2155.41,-254.79"/>
<polygon fill="darkblue" stroke="darkblue" points="2157.17,-257.83 2164.55,-250.22 2154.04,-251.57 2157.17,-257.83"/>
<text text-anchor="middle" x="2052.5" y="-314.8" font-family="Times,serif" font-size="14.00">基于</text>
</g>
<!-- p5 -->
<g id="node21" class="node">
<title>p5</title>
<path fill="white" stroke="black" d="M1919,-54C1919,-54 1751,-54 1751,-54 1745,-54 1739,-48 1739,-42 1739,-42 1739,-28 1739,-28 1739,-22 1745,-16 1751,-16 1751,-16 1919,-16 1919,-16 1925,-16 1931,-22 1931,-28 1931,-28 1931,-42 1931,-42 1931,-48 1925,-54 1919,-54"/>
<text text-anchor="middle" x="1835" y="-38.8" font-family="Times,serif" font-size="14.00">uvm_perf_thrashing_nap</text>
<text text-anchor="middle" x="1835" y="-23.8" font-family="Times,serif" font-size="14.00">= 100 (NAP时长us)</text>
</g>
<!-- calc_nap&#45;&gt;p5 -->
<g id="edge19" class="edge">
<title>calc_nap&#45;&gt;p5</title>
<path fill="none" stroke="gray" stroke-dasharray="5,2" d="M2156.47,-172.31C2074.71,-137.64 1954.74,-86.77 1886.85,-57.99"/>
<polygon fill="gray" stroke="gray" points="1888.2,-54.76 1877.63,-54.08 1885.47,-61.2 1888.2,-54.76"/>
</g>
<!-- fault_handler -->
<g id="node14" class="node">
<title>fault_handler</title>
<path fill="lightblue" stroke="black" d="M2600,-382C2600,-382 2470,-382 2470,-382 2464,-382 2458,-376 2458,-370 2458,-370 2458,-356 2458,-356 2458,-350 2464,-344 2470,-344 2470,-344 2600,-344 2600,-344 2606,-344 2612,-350 2612,-356 2612,-356 2612,-370 2612,-370 2612,-376 2606,-382 2600,-382"/>
<text text-anchor="middle" x="2535" y="-366.8" font-family="Times,serif" font-size="14.00">Fault Handler</text>
<text text-anchor="middle" x="2535" y="-351.8" font-family="Times,serif" font-size="14.00">service_fault_batch</text>
</g>
<!-- return_hint&#45;&gt;fault_handler -->
<g id="edge13" class="edge">
<title>return_hint&#45;&gt;fault_handler</title>
<path fill="none" stroke="darkblue" d="M1986.7,-461.19C2088.21,-443.2 2320.49,-402.02 2447.72,-379.47"/>
<polygon fill="darkblue" stroke="darkblue" points="2448.58,-382.87 2457.82,-377.68 2447.36,-375.98 2448.58,-382.87"/>
<text text-anchor="middle" x="2353" y="-403.8" font-family="Times,serif" font-size="14.00">被调用于</text>
</g>
<!-- apply_pin -->
<g id="node15" class="node">
<title>apply_pin</title>
<path fill="lightblue" stroke="black" d="M2604.5,-229C2604.5,-229 2465.5,-229 2465.5,-229 2459.5,-229 2453.5,-223 2453.5,-217 2453.5,-217 2453.5,-203 2453.5,-203 2453.5,-197 2459.5,-191 2465.5,-191 2465.5,-191 2604.5,-191 2604.5,-191 2610.5,-191 2616.5,-197 2616.5,-203 2616.5,-203 2616.5,-217 2616.5,-217 2616.5,-223 2610.5,-229 2604.5,-229"/>
<text text-anchor="middle" x="2535" y="-213.8" font-family="Times,serif" font-size="14.00">Map pages remotely</text>
<text text-anchor="middle" x="2535" y="-198.8" font-family="Times,serif" font-size="14.00">Avoid migration</text>
</g>
<!-- fault_handler&#45;&gt;apply_pin -->
<g id="edge14" class="edge">
<title>fault_handler&#45;&gt;apply_pin</title>
<path fill="none" stroke="darkblue" d="M2535,-343.79C2535,-317.82 2535,-269.94 2535,-239.32"/>
<polygon fill="darkblue" stroke="darkblue" points="2538.5,-239.28 2535,-229.28 2531.5,-239.28 2538.5,-239.28"/>
<text text-anchor="middle" x="2556" y="-314.8" font-family="Times,serif" font-size="14.00">if PIN</text>
</g>
<!-- apply_throttle -->
<g id="node16" class="node">
<title>apply_throttle</title>
<path fill="lightblue" stroke="black" d="M2741.5,-229C2741.5,-229 2646.5,-229 2646.5,-229 2640.5,-229 2634.5,-223 2634.5,-217 2634.5,-217 2634.5,-203 2634.5,-203 2634.5,-197 2640.5,-191 2646.5,-191 2646.5,-191 2741.5,-191 2741.5,-191 2747.5,-191 2753.5,-197 2753.5,-203 2753.5,-203 2753.5,-217 2753.5,-217 2753.5,-223 2747.5,-229 2741.5,-229"/>
<text text-anchor="middle" x="2694" y="-213.8" font-family="Times,serif" font-size="14.00">Sleep/delay</text>
<text text-anchor="middle" x="2694" y="-198.8" font-family="Times,serif" font-size="14.00">until end_time</text>
</g>
<!-- fault_handler&#45;&gt;apply_throttle -->
<g id="edge15" class="edge">
<title>fault_handler&#45;&gt;apply_throttle</title>
<path fill="none" stroke="darkblue" d="M2562.17,-343.88C2580.98,-330.76 2606.09,-312.06 2626,-293 2643.86,-275.9 2661.61,-254.3 2674.5,-237.56"/>
<polygon fill="darkblue" stroke="darkblue" points="2677.51,-239.38 2680.77,-229.3 2671.93,-235.15 2677.51,-239.38"/>
<text text-anchor="middle" x="2652" y="-314.8" font-family="Times,serif" font-size="14.00">if THROTTLE</text>
</g>
<!-- p4 -->
<g id="node20" class="node">
<title>p4</title>
<path fill="white" stroke="black" d="M1175,-54C1175,-54 957,-54 957,-54 951,-54 945,-48 945,-42 945,-42 945,-28 945,-28 945,-22 951,-16 957,-16 957,-16 1175,-16 1175,-16 1181,-16 1187,-22 1187,-28 1187,-28 1187,-42 1187,-42 1187,-48 1181,-54 1175,-54"/>
<text text-anchor="middle" x="1066" y="-38.8" font-family="Times,serif" font-size="14.00">uvm_perf_thrashing_lapse_usec</text>
<text text-anchor="middle" x="1066" y="-23.8" font-family="Times,serif" font-size="14.00">= 10000 (时间窗口)</text>
</g>
<!-- p6 -->
<g id="node22" class="node">
<title>p6</title>
<path fill="white" stroke="black" d="M684,-54C684,-54 500,-54 500,-54 494,-54 488,-48 488,-42 488,-42 488,-28 488,-28 488,-22 494,-16 500,-16 500,-16 684,-16 684,-16 690,-16 696,-22 696,-28 696,-28 696,-42 696,-42 696,-48 690,-54 684,-54"/>
<text text-anchor="middle" x="592" y="-38.8" font-family="Times,serif" font-size="14.00">uvm_perf_thrashing_epoch</text>
<text text-anchor="middle" x="592" y="-23.8" font-family="Times,serif" font-size="14.00">= 3 (epoch长度)</text>
</g>
<!-- p7 -->
<g id="node23" class="node">
<title>p7</title>
<path fill="white" stroke="black" d="M458,-54C458,-54 294,-54 294,-54 288,-54 282,-48 282,-42 282,-42 282,-28 282,-28 282,-22 288,-16 294,-16 294,-16 458,-16 458,-16 464,-16 470,-22 470,-28 470,-28 470,-42 470,-42 470,-48 464,-54 458,-54"/>
<text text-anchor="middle" x="376" y="-38.8" font-family="Times,serif" font-size="14.00">uvm_perf_thrashing_pin</text>
<text text-anchor="middle" x="376" y="-23.8" font-family="Times,serif" font-size="14.00">= 1 (PIN策略开关)</text>
</g>
<!-- p8 -->
<g id="node24" class="node">
<title>p8</title>
<path fill="white" stroke="black" d="M251.5,-54C251.5,-54 28.5,-54 28.5,-54 22.5,-54 16.5,-48 16.5,-42 16.5,-42 16.5,-28 16.5,-28 16.5,-22 22.5,-16 28.5,-16 28.5,-16 251.5,-16 251.5,-16 257.5,-16 263.5,-22 263.5,-28 263.5,-28 263.5,-42 263.5,-42 263.5,-48 257.5,-54 251.5,-54"/>
<text text-anchor="middle" x="140" y="-38.8" font-family="Times,serif" font-size="14.00">uvm_perf_thrashing_max_resets</text>
<text text-anchor="middle" x="140" y="-23.8" font-family="Times,serif" font-size="14.00">= 200 (最大重置)</text>
</g>
<!-- l1 -->
<g id="node25" class="node">
<title>l1</title>
<polygon fill="yellow" stroke="black" points="2242.5,-604.5 2077.5,-604.5 2077.5,-568.5 2242.5,-568.5 2242.5,-604.5"/>
<text text-anchor="middle" x="2160" y="-582.8" font-family="Times,serif" font-size="14.00">Yellow = Entry Point</text>
</g>
<!-- l2 -->
<g id="node26" class="node">
<title>l2</title>
<polygon fill="orange" stroke="black" points="2059.5,-604.5 1862.5,-604.5 1862.5,-568.5 2059.5,-568.5 2059.5,-604.5"/>
<text text-anchor="middle" x="1961" y="-582.8" font-family="Times,serif" font-size="14.00">Orange = Policy Decision</text>
</g>
<!-- l3 -->
<g id="node27" class="node">
<title>l3</title>
<polygon fill="lightgreen" stroke="black" points="1844.5,-604.5 1689.5,-604.5 1689.5,-568.5 1844.5,-568.5 1844.5,-604.5"/>
<text text-anchor="middle" x="1767" y="-582.8" font-family="Times,serif" font-size="14.00">Green = PIN Policy</text>
</g>
<!-- l4 -->
<g id="node28" class="node">
<title>l4</title>
<polygon fill="lightcoral" stroke="black" points="1671.5,-604.5 1468.5,-604.5 1468.5,-568.5 1671.5,-568.5 1671.5,-604.5"/>
<text text-anchor="middle" x="1570" y="-582.8" font-family="Times,serif" font-size="14.00">Coral = THROTTLE Policy</text>
</g>
</g>
</svg>
